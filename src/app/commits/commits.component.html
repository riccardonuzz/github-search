<div>
    <h1 class="mb-4">Search {{owner}}/{{repo}} commits </h1>
    <app-commits-search-form (commitsSubmitForm)="searchCommits($event)"></app-commits-search-form>

    <div class="table-container mt-5">
        <app-table
            [headers]="headers"
            [rowTemplate]="rowTemplate"
            [data]="commits"
            [loading]="loading"
            loadingLabel="Caricamento..."
        >   
        </app-table>
        <div *ngIf="!loading && searched && commits?.length === 0">No data found.</div>
        <div *ngIf="!searched">Type something on the above form to press the "Search" button to start a research.</div>
    </div>
    
</div>


<ng-template #rowTemplate let-entry>
    <td>
        {{entry.commit.author.name}}
    </td>
    <td>
        <a target="_blank" [href]="entry.html_url">See commit page</a>
    </td>
    <td class="message-col">
        {{entry.commit.message}}
    </td>
</ng-template>